var pe=Object.create;var $=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var le=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var fe=(r,a)=>{for(var o in a)$(r,o,{get:a[o],enumerable:!0})},Q=(r,a,o,u)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of ce(a))!de.call(r,s)&&s!==o&&$(r,s,{get:()=>a[s],enumerable:!(u=ue(a,s))||u.enumerable});return r};var z=(r,a,o)=>(o=r!=null?pe(le(r)):{},Q(a||!r||!r.__esModule?$(o,"default",{value:r,enumerable:!0}):o,r)),me=r=>Q($({},"__esModule",{value:!0}),r);var Pe={};fe(Pe,{Head:()=>re,Link:()=>ne,createInertiaApp:()=>K,router:()=>ye,useForm:()=>q,usePage:()=>J,useRemember:()=>A});module.exports=me(Pe);var ie=require("@inertiajs/core");var ee=require("@inertiajs/core"),te=require("react");var O=require("@inertiajs/core"),F=require("react");var G=require("react"),X=(0,G.createContext)(void 0);X.displayName="InertiaHeadContext";var M=X;var Y=require("react"),Z=(0,Y.createContext)(void 0);Z.displayName="InertiaPageContext";var w=Z;function j({children:r,initialPage:a,initialComponent:o,resolveComponent:u,titleCallback:s,onHeadUpdate:h}){let[d,T]=(0,F.useState)({component:o||null,page:a,key:null}),l=(0,F.useMemo)(()=>(0,O.createHeadManager)(typeof window>"u",s||(f=>f),h||(()=>{})),[]);if((0,F.useEffect)(()=>{O.router.init({initialPage:a,resolveComponent:u,swapComponent:async({component:f,page:e,preserveState:c})=>{T(n=>({component:f,page:e,key:c?n.key:Date.now()}))}}),O.router.on("navigate",()=>l.forceUpdate())},[]),!d.component)return(0,F.createElement)(M.Provider,{value:l},(0,F.createElement)(w.Provider,{value:d.page},null));let y=r||(({Component:f,props:e,key:c})=>{let n=(0,F.createElement)(f,{key:c,...e});return typeof f.layout=="function"?f.layout(n):Array.isArray(f.layout)?f.layout.concat(n).reverse().reduce((P,S)=>(0,F.createElement)(S,{children:P,...e})):n});return(0,F.createElement)(M.Provider,{value:l},(0,F.createElement)(w.Provider,{value:d.page},y({Component:d.component,key:d.key,props:d.page.props})))}j.displayName="Inertia";async function K({id:r="app",resolve:a,setup:o,title:u,progress:s={},page:h,render:d}){let T=typeof window>"u",l=T?null:document.getElementById(r),y=h||JSON.parse(l.dataset.page),f=n=>Promise.resolve(a(n)).then(P=>P.default||P),e=[],c=await f(y.component).then(n=>o({el:l,App:j,props:{initialPage:y,initialComponent:n,resolveComponent:f,titleCallback:u,onHeadUpdate:T?P=>e=P:null}}));if(!T&&s&&(0,ee.setupProgress)(s),T){let n=await d((0,te.createElement)("div",{id:r,"data-page":JSON.stringify(y)},c));return{head:e,body:n}}}var v=z(require("react"),1);var ge=function({children:r,title:a}){let o=(0,v.useContext)(M),u=(0,v.useMemo)(()=>o.createProvider(),[o]);(0,v.useEffect)(()=>()=>{u.disconnect()},[u]);function s(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function h(e){let c=Object.keys(e.props).reduce((n,P)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(P))return n;let S=e.props[P];return S===""?n+` ${P}`:n+` ${P}="${S}"`},"");return`<${e.type}${c}>`}function d(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,n)=>c+T(n),"")}function T(e){let c=h(e);return e.props.children&&(c+=d(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),s(e)||(c+=`</${e.type}>`),c}function l(e){return v.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function y(e){return T(l(e))}function f(e){let c=v.default.Children.toArray(e).filter(n=>n).map(n=>y(n));return a&&!c.find(n=>n.startsWith("<title"))&&c.push(`<title inertia>${a}</title>`),c}return u.update(f(r)),null},re=ge;var R=require("@inertiajs/core"),I=require("react"),C=()=>{},oe=(0,I.forwardRef)(({children:r,as:a="a",data:o={},href:u,method:s="get",preserveScroll:h=!1,preserveState:d=null,replace:T=!1,only:l=[],headers:y={},queryStringArrayFormat:f="brackets",onClick:e=C,onCancelToken:c=C,onBefore:n=C,onStart:P=C,onProgress:S=C,onFinish:L=C,onCancel:k=C,onSuccess:B=C,onError:E=C,...V},D)=>{let H=(0,I.useCallback)(t=>{e(t),(0,R.shouldIntercept)(t)&&(t.preventDefault(),R.router.visit(u,{data:o,method:s,preserveScroll:h,preserveState:d??s!=="get",replace:T,only:l,headers:y,onCancelToken:c,onBefore:n,onStart:P,onProgress:S,onFinish:L,onCancel:k,onSuccess:B,onError:E}))},[o,u,s,h,d,T,l,y,e,c,n,P,S,L,k,B,E]);a=a.toLowerCase(),s=s.toLowerCase();let[b,N]=(0,R.mergeDataIntoQueryString)(s,u||"",o,f);return u=b,o=N,a==="a"&&s!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${u}" method="${s}" as="button">...</Link>`),(0,I.createElement)(a,{...V,...a==="a"?{href:u}:{},ref:D,onClick:H},r)});oe.displayName="InertiaLink";var ne=oe;var W=require("@inertiajs/core"),ae=z(require("lodash.isequal"),1),g=require("react");var _=require("@inertiajs/core"),U=require("react");function A(r,a){let[o,u]=(0,U.useState)(()=>{let s=_.router.restore(a);return s!==void 0?s:r});return(0,U.useEffect)(()=>{_.router.remember(o,a)},[o,a]),[o,u]}function q(r,a){let o=(0,g.useRef)(null),u=typeof r=="string"?r:null,[s,h]=(0,g.useState)((typeof r=="string"?a:r)||{}),d=(0,g.useRef)(null),T=(0,g.useRef)(null),[l,y]=u?A(s,`${u}:data`):(0,g.useState)(s),[f,e]=u?A({},`${u}:errors`):(0,g.useState)({}),[c,n]=(0,g.useState)(!1),[P,S]=(0,g.useState)(!1),[L,k]=(0,g.useState)(null),[B,E]=(0,g.useState)(!1),[V,D]=(0,g.useState)(!1),H=t=>t;(0,g.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let b=(0,g.useCallback)((t,p,i={})=>{let x={...i,onCancelToken:m=>{if(d.current=m,i.onCancelToken)return i.onCancelToken(m)},onBefore:m=>{if(E(!1),D(!1),clearTimeout(T.current),i.onBefore)return i.onBefore(m)},onStart:m=>{if(S(!0),i.onStart)return i.onStart(m)},onProgress:m=>{if(k(m),i.onProgress)return i.onProgress(m)},onSuccess:m=>{if(o.current&&(S(!1),k(null),e({}),n(!1),E(!0),D(!0),T.current=setTimeout(()=>{o.current&&D(!1)},2e3)),i.onSuccess)return i.onSuccess(m)},onError:m=>{if(o.current&&(S(!1),k(null),e(m),n(!0)),i.onError)return i.onError(m)},onCancel:()=>{if(o.current&&(S(!1),k(null)),i.onCancel)return i.onCancel()},onFinish:()=>{if(o.current&&(S(!1),k(null)),d.current=null,i.onFinish)return i.onFinish()}};t==="delete"?W.router.delete(p,{...x,data:H(l)}):W.router[t](p,H(l),x)},[l,e]);function N(...t){e(p=>{let i=Object.keys(p).reduce((x,m)=>({...x,...t.length>0&&!t.includes(m)?{[m]:p[m]}:{}}),{});return n(Object.keys(i).length>0),i})}return{data:l,setData(t,p){y(typeof t=="string"?{...l,[t]:p}:typeof t=="function"?i=>t(i):t)},isDirty:!(0,ae.default)(l,s),errors:f,hasErrors:c,processing:P,progress:L,wasSuccessful:B,recentlySuccessful:V,transform(t){H=t},setDefaults(t,p){h(typeof t>"u"?()=>l:i=>({...i,...typeof t=="string"?{[t]:p}:t}))},reset(...t){t.length===0?(y(s),e({}),n(!1)):(y(Object.keys(s).filter(p=>t.includes(p)).reduce((p,i)=>(p[i]=s[i],p),{...l})),N(...t))},setError(t,p){e(i=>{let x={...i,...typeof t=="string"?{[t]:p}:t};return n(Object.keys(x).length>0),x})},clearErrors:N,submit:b,get(t,p){b("get",t,p)},post(t,p){b("post",t,p)},put(t,p){b("put",t,p)},patch(t,p){b("patch",t,p)},delete(t,p){b("delete",t,p)},cancel(){d.current&&d.current.cancel()}}}var se=require("react");function J(){let r=(0,se.useContext)(w);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var ye=ie.router;
//# sourceMappingURL=index.js.map
